
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>torequests package &#8212; torequests 4.6.5 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">torequests 4.6.5 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="torequests-package">
<h1>torequests package<a class="headerlink" href="#torequests-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-torequests.main">
<span id="torequests-main"></span><h2>torequests.main<a class="headerlink" href="#module-torequests.main" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="torequests.main.Async">
<code class="descclassname">torequests.main.</code><code class="descname">Async</code><span class="sig-paren">(</span><em>f</em>, <em>n=None</em>, <em>timeout=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#Async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.Async" title="Permalink to this definition">¶</a></dt>
<dd><p>Concise usage for pool.submit.</p>
<p>Basic Usage Asnyc &amp; threads</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">torequests.main</span> <span class="k">import</span> <span class="n">Async</span><span class="p">,</span> <span class="n">threads</span>
<span class="kn">import</span> <span class="nn">time</span>


<span class="k">def</span> <span class="nf">use_submit</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;use_submit: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">i</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="nd">@threads</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">use_decorator</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;use_decorator: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">i</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="n">new_use_submit</span> <span class="o">=</span> <span class="n">Async</span><span class="p">(</span><span class="n">use_submit</span><span class="p">)</span>
<span class="n">tasks</span> <span class="o">=</span> <span class="p">[</span><span class="n">new_use_submit</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">use_decorator</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">([</span><span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tasks</span><span class="p">])</span>
<span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">x</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tasks</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

<span class="c1"># use_submit: 0</span>
<span class="c1"># use_decorator: 0</span>
<span class="c1"># [&lt;class &#39;torequests.main.NewFuture&#39;&gt;, &lt;class &#39;torequests.main.NewFuture&#39;&gt;, &lt;class &#39;torequests.main.NewFuture&#39;&gt;, &lt;class &#39;torequests.main.NewFuture&#39;&gt;, &lt;class &#39;torequests.main.NewFuture&#39;&gt;, &lt;class &#39;torequests.main.NewFuture&#39;&gt;]</span>
<span class="c1"># use_submit: 1</span>
<span class="c1"># use_decorator: 1</span>
<span class="c1"># use_submit: 2</span>
<span class="c1"># use_decorator: 2</span>
<span class="c1"># [&#39;use_submit: 2&#39;, &#39;use_submit: 1&#39;, &#39;use_submit: 0&#39;, &#39;use_decorator: 2&#39;, &#39;use_decorator: 1&#39;, &#39;use_decorator: 0&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="torequests.main.NewExecutorPoolMixin">
<em class="property">class </em><code class="descclassname">torequests.main.</code><code class="descname">NewExecutorPoolMixin</code><a class="reference internal" href="_modules/torequests/main.html#NewExecutorPoolMixin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.NewExecutorPoolMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Add async_func decorator for wrapping a function to return the NewFuture.</p>
<dl class="method">
<dt id="torequests.main.NewExecutorPoolMixin.async_func">
<code class="descname">async_func</code><span class="sig-paren">(</span><em>function</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#NewExecutorPoolMixin.async_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.NewExecutorPoolMixin.async_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for let a normal function return the NewFuture</p>
</dd></dl>

<dl class="method">
<dt id="torequests.main.NewExecutorPoolMixin.close">
<code class="descname">close</code><span class="sig-paren">(</span><em>wait=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#NewExecutorPoolMixin.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.NewExecutorPoolMixin.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as self.shutdown</p>
</dd></dl>

<dl class="method">
<dt id="torequests.main.NewExecutorPoolMixin.wait_futures_done">
<code class="descname">wait_futures_done</code><span class="sig-paren">(</span><em>tasks=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#NewExecutorPoolMixin.wait_futures_done"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.NewExecutorPoolMixin.wait_futures_done" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.main.NewExecutorPoolMixin.x">
<code class="descname">x</code><a class="headerlink" href="#torequests.main.NewExecutorPoolMixin.x" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self.wait_futures_done</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="torequests.main.NewFuture">
<em class="property">class </em><code class="descclassname">torequests.main.</code><code class="descname">NewFuture</code><span class="sig-paren">(</span><em>timeout=None</em>, <em>args=None</em>, <em>kwargs=None</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#NewFuture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.NewFuture" title="Permalink to this definition">¶</a></dt>
<dd><p>Add <cite>.x</cite> attribute and timeout args for original Future class</p>
<p>WARNING: Future thread will not stop running until function finished or pid killed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attr cx:</th><td class="field-body">blocking until the task finish and return the callback_result.</td>
</tr>
<tr class="field-even field"><th class="field-name">Attr x:</th><td class="field-body">blocking until the task finish and return the value as <cite>coro</cite> returned.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Attr task_start_time:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">timestamp when the task start up.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Attr task_end_time:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">timestamp when the task end up.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Attr task_cost_time:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">seconds of task costs.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="torequests.main.NewFuture.callback_result">
<code class="descname">callback_result</code><a class="headerlink" href="#torequests.main.NewFuture.callback_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Block the main thead until future finish, return the future.callback_result.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.main.NewFuture.cx">
<code class="descname">cx</code><a class="headerlink" href="#torequests.main.NewFuture.cx" title="Permalink to this definition">¶</a></dt>
<dd><p>Block the main thead until future finish, return the future.callback_result.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.main.NewFuture.x">
<code class="descname">x</code><a class="headerlink" href="#torequests.main.NewFuture.x" title="Permalink to this definition">¶</a></dt>
<dd><p>Block the main thead until future finish, return the future.result().</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="torequests.main.Pool">
<em class="property">class </em><code class="descclassname">torequests.main.</code><code class="descname">Pool</code><span class="sig-paren">(</span><em>n=None</em>, <em>timeout=None</em>, <em>default_callback=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#Pool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.Pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Let ThreadPoolExecutor use NewFuture instead of origin concurrent.futures.Future.</p>
<p>Basic Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">torequests.main</span> <span class="k">import</span> <span class="n">Pool</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">pool</span> <span class="o">=</span> <span class="n">Pool</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">use_submit</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;use_submit: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">i</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="nd">@pool</span><span class="o">.</span><span class="n">async_func</span>
<span class="k">def</span> <span class="nf">use_decorator</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;use_decorator: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">i</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="n">tasks</span> <span class="o">=</span> <span class="p">[</span><span class="n">pool</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">use_submit</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">use_decorator</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span>
<span class="c1"># pool.x can be ignore</span>
<span class="n">pool</span><span class="o">.</span><span class="n">x</span>
<span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">x</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tasks</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

<span class="c1"># use_submit: 0</span>
<span class="c1"># use_decorator: 0</span>
<span class="c1"># use_submit: 1</span>
<span class="c1"># use_decorator: 1</span>
<span class="c1"># use_submit: 2</span>
<span class="c1"># use_decorator: 2</span>
<span class="c1"># [&#39;use_submit: 2&#39;, &#39;use_submit: 1&#39;, &#39;use_submit: 0&#39;, &#39;use_decorator: 2&#39;, &#39;use_decorator: 1&#39;, &#39;use_decorator: 0&#39;]</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="torequests.main.Pool.all_tasks">
<code class="descname">all_tasks</code><a class="headerlink" href="#torequests.main.Pool.all_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Keep the same api for dummy, return self._all_futures actually</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.main.Pool.default_callback">
<code class="descname">default_callback</code><em class="property"> = None</em><a class="headerlink" href="#torequests.main.Pool.default_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>set the default_callback if not set single task’s callback</p>
</dd></dl>

<dl class="method">
<dt id="torequests.main.Pool.submit">
<code class="descname">submit</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#Pool.submit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.Pool.submit" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit a function to the pool, <cite>self.submit(function,arg1,arg2,arg3=3)</cite></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="torequests.main.ProcessPool">
<em class="property">class </em><code class="descclassname">torequests.main.</code><code class="descname">ProcessPool</code><span class="sig-paren">(</span><em>n=None</em>, <em>timeout=None</em>, <em>default_callback=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#ProcessPool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.ProcessPool" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple ProcessPool covered ProcessPoolExecutor.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">torequests.main</span> <span class="k">import</span> <span class="n">ProcessPool</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">pool</span> <span class="o">=</span> <span class="n">ProcessPool</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">use_submit</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;use_submit: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">i</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="p">[</span><span class="n">pool</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">use_submit</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span>
    <span class="c1"># pool.x can be ignore</span>
    <span class="n">pool</span><span class="o">.</span><span class="n">x</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">x</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tasks</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>

<span class="c1"># [&#39;use_submit: 2&#39;, &#39;use_submit: 1&#39;, &#39;use_submit: 0&#39;]</span>
<span class="c1"># use_submit: 0</span>
<span class="c1"># use_submit: 1</span>
<span class="c1"># use_submit: 2</span>
</pre></div>
</div>
<dl class="method">
<dt id="torequests.main.ProcessPool.async_func">
<code class="descname">async_func</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#ProcessPool.async_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.ProcessPool.async_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator mode not support for ProcessPool for _pickle.PicklingError.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.main.ProcessPool.submit">
<code class="descname">submit</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#ProcessPool.submit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.ProcessPool.submit" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit a function to the pool, <cite>self.submit(function,arg1,arg2,arg3=3)</cite></p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="torequests.main.get_results_generator">
<code class="descclassname">torequests.main.</code><code class="descname">get_results_generator</code><span class="sig-paren">(</span><em>future_list</em>, <em>timeout=None</em>, <em>sort_by_completed=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#get_results_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.get_results_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return as a generator of tasks order by completed sequence.</p>
</dd></dl>

<dl class="function">
<dt id="torequests.main.run_after_async">
<code class="descclassname">torequests.main.</code><code class="descname">run_after_async</code><span class="sig-paren">(</span><em>seconds</em>, <em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#run_after_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.run_after_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the function after seconds asynchronously.</p>
</dd></dl>

<dl class="class">
<dt id="torequests.main.tPool">
<em class="property">class </em><code class="descclassname">torequests.main.</code><code class="descname">tPool</code><span class="sig-paren">(</span><em>n=None</em>, <em>interval=0</em>, <em>timeout=None</em>, <em>session=None</em>, <em>catch_exception=True</em>, <em>default_callback=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#tPool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.tPool" title="Permalink to this definition">¶</a></dt>
<dd><p>Async wrapper for requests.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>n</strong> – thread pool size for concurrent limit.</li>
<li><strong>interval</strong> – time.sleep(interval) after each task finished.</li>
<li><strong>timeout</strong> – timeout for each task.result(timeout). But it will not shutdown the raw funtion.</li>
<li><strong>session</strong> – individually given a available requests.Session instance if necessary.</li>
<li><strong>catch_exception</strong> – <cite>True</cite> will catch all exceptions and return as <code class="xref py py-class docutils literal notranslate"><span class="pre">FailureException</span></code></li>
<li><strong>default_callback</strong> – default_callback for tasks which not set callback param.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">torequests.main</span> <span class="k">import</span> <span class="n">tPool</span>
<span class="kn">from</span> <span class="nn">torequests.logs</span> <span class="k">import</span> <span class="n">print_info</span>

<span class="n">trequests</span> <span class="o">=</span> <span class="n">tPool</span><span class="p">()</span>
<span class="n">test_url</span> <span class="o">=</span> <span class="s1">&#39;http://p.3.cn&#39;</span>
<span class="n">ss</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">trequests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="n">test_url</span><span class="p">,</span>
        <span class="n">retry</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">callback</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">content</span><span class="p">),</span> <span class="n">print_info</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">content</span><span class="p">))))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="p">]</span>
<span class="c1"># or [i.x for i in ss]</span>
<span class="n">trequests</span><span class="o">.</span><span class="n">x</span>
<span class="n">ss</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">cx</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ss</span><span class="p">]</span>
<span class="n">print_info</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>

<span class="c1"># [2018-03-18 21:18:09]: 612</span>
<span class="c1"># [2018-03-18 21:18:09]: 612</span>
<span class="c1"># [2018-03-18 21:18:09]: 612</span>
<span class="c1"># [2018-03-18 21:18:09]: [(612, None), (612, None), (612, None)]</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="torequests.main.tPool.all_tasks">
<code class="descname">all_tasks</code><a class="headerlink" href="#torequests.main.tPool.all_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self.pool._all_futures</p>
</dd></dl>

<dl class="method">
<dt id="torequests.main.tPool.close">
<code class="descname">close</code><span class="sig-paren">(</span><em>wait=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#tPool.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.tPool.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close session, shutdown pool.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.main.tPool.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>url</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#tPool.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.tPool.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <cite>requests.delete</cite>, but return as NewFuture.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.main.tPool.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>url</em>, <em>params=None</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#tPool.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.tPool.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <cite>requests.get</cite>, but return as NewFuture.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.main.tPool.head">
<code class="descname">head</code><span class="sig-paren">(</span><em>url</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#tPool.head"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.tPool.head" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <cite>requests.head</cite>, but return as NewFuture.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.main.tPool.options">
<code class="descname">options</code><span class="sig-paren">(</span><em>url</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#tPool.options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.tPool.options" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <cite>requests.options</cite>, but return as NewFuture.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.main.tPool.patch">
<code class="descname">patch</code><span class="sig-paren">(</span><em>url</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#tPool.patch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.tPool.patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <cite>requests.patch</cite>, but return as NewFuture.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.main.tPool.post">
<code class="descname">post</code><span class="sig-paren">(</span><em>url</em>, <em>data=None</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#tPool.post"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.tPool.post" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <cite>requests.post</cite>, but return as NewFuture.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.main.tPool.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>url</em>, <em>data=None</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#tPool.put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.tPool.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <cite>requests.put</cite>, but return as NewFuture.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.main.tPool.request">
<code class="descname">request</code><span class="sig-paren">(</span><em>method</em>, <em>url</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#tPool.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.tPool.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <cite>requests.request</cite>, but return as NewFuture.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.main.tPool.x">
<code class="descname">x</code><a class="headerlink" href="#torequests.main.tPool.x" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self.pool.x</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="torequests.main.threads">
<code class="descclassname">torequests.main.</code><code class="descname">threads</code><span class="sig-paren">(</span><em>n=None</em>, <em>timeout=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/main.html#threads"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.main.threads" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator usage like Async.</p>
</dd></dl>

</div>
<div class="section" id="module-torequests.dummy">
<span id="torequests-dummy"></span><h2>torequests.dummy<a class="headerlink" href="#module-torequests.dummy" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="torequests.dummy.Asyncme">
<code class="descclassname">torequests.dummy.</code><code class="descname">Asyncme</code><span class="sig-paren">(</span><em>func</em>, <em>n=None</em>, <em>interval=0</em>, <em>default_callback=None</em>, <em>loop=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Asyncme"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Asyncme" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap coro_function into the function return NewTask.</p>
</dd></dl>

<dl class="class">
<dt id="torequests.dummy.Frequency">
<em class="property">class </em><code class="descclassname">torequests.dummy.</code><code class="descname">Frequency</code><span class="sig-paren">(</span><em>sem=None</em>, <em>interval=0</em>, <em>name=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Frequency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>Use sem to control concurrent tasks, use interval to sleep after task done.</p>
<dl class="classmethod">
<dt id="torequests.dummy.Frequency.ensure_frequency">
<em class="property">classmethod </em><code class="descname">ensure_frequency</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Frequency.ensure_frequency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Frequency.ensure_frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>Trans [n, interval] into Frequency object.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Frequency.ensure_sem">
<code class="descname">ensure_sem</code><span class="sig-paren">(</span><em>sem</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Frequency.ensure_sem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Frequency.ensure_sem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.dummy.Frequency.interval">
<code class="descname">interval</code><a class="headerlink" href="#torequests.dummy.Frequency.interval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.dummy.Frequency.name">
<code class="descname">name</code><a class="headerlink" href="#torequests.dummy.Frequency.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.dummy.Frequency.sem">
<code class="descname">sem</code><a class="headerlink" href="#torequests.dummy.Frequency.sem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="torequests.dummy.Loop">
<em class="property">class </em><code class="descclassname">torequests.dummy.</code><code class="descname">Loop</code><span class="sig-paren">(</span><em>n=None</em>, <em>interval=0</em>, <em>default_callback=None</em>, <em>loop=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle the event loop like a thread pool.</p>
<dl class="attribute">
<dt id="torequests.dummy.Loop.all_tasks">
<code class="descname">all_tasks</code><a class="headerlink" href="#torequests.dummy.Loop.all_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all tasks of the current loop.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Loop.apply">
<code class="descname">apply</code><span class="sig-paren">(</span><em>coro_function</em>, <em>args=None</em>, <em>kwargs=None</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop.apply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit a coro_function(<a href="#id1"><span class="problematic" id="id2">*</span></a>args, <a href="#id3"><span class="problematic" id="id4">**</span></a>kwargs) as NewTask to self.loop with loop.frequncy control.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">torequests.dummy</span> <span class="k">import</span> <span class="n">Loop</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="n">loop</span> <span class="o">=</span> <span class="n">Loop</span><span class="p">()</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">loop</span><span class="o">.</span><span class="n">frequency</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

<span class="n">task</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
<span class="c1"># loop.x can be ignore</span>
<span class="n">loop</span><span class="o">.</span><span class="n">x</span>
<span class="nb">print</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># &lt;NewTask pending coro=&lt;new_coro_func() running at torequests/torequests/dummy.py:154&gt;&gt;</span>
<span class="c1"># (Frequency(sem=&lt;0/0&gt;, interval=0, name=loop_sem), 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Loop.async_run_forever">
<code class="descname">async_run_forever</code><span class="sig-paren">(</span><em>daemon=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop.async_run_forever"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop.async_run_forever" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a loop forever with a single thread.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">torequests.dummy</span> <span class="k">import</span> <span class="n">Requests</span>
<span class="kn">from</span> <span class="nn">torequests.logs</span> <span class="k">import</span> <span class="n">print_info</span>
<span class="n">trequests</span> <span class="o">=</span> <span class="n">Requests</span><span class="p">(</span><span class="n">frequencies</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;p.3.cn&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)})</span>
<span class="n">trequests</span><span class="o">.</span><span class="n">async_run_forever</span><span class="p">()</span>
<span class="n">ss</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">trequests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s1">&#39;http://p.3.cn&#39;</span><span class="p">,</span>
        <span class="n">callback</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">content</span><span class="p">),</span> <span class="n">print_info</span><span class="p">(</span><span class="n">trequests</span><span class="o">.</span><span class="n">frequencies</span><span class="p">)))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="p">]</span>
<span class="n">trequests</span><span class="o">.</span><span class="n">x</span>
<span class="n">ss</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">cx</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ss</span><span class="p">]</span>
<span class="n">print_info</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>

<span class="c1"># [2018-03-19 00:56:58]: {&#39;p.3.cn&#39;: Frequency(sem=&lt;1/2&gt;, interval=2)}</span>
<span class="c1"># [2018-03-19 00:56:58]: {&#39;p.3.cn&#39;: Frequency(sem=&lt;0/2&gt;, interval=2)}</span>
<span class="c1"># [2018-03-19 00:57:00]: {&#39;p.3.cn&#39;: Frequency(sem=&lt;2/2&gt;, interval=2)}</span>
<span class="c1"># [2018-03-19 00:57:00]: {&#39;p.3.cn&#39;: Frequency(sem=&lt;2/2&gt;, interval=2)}</span>
<span class="c1"># [2018-03-19 00:57:00]: [(612, None), (612, None), (612, None), (612, None)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Loop.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the event loop.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.dummy.Loop.done_tasks">
<code class="descname">done_tasks</code><a class="headerlink" href="#torequests.dummy.Loop.done_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Return tasks in loop which its state is not pending.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Loop.pendings">
<code class="descname">pendings</code><span class="sig-paren">(</span><em>tasks=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop.pendings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop.pendings" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for await in coroutines.
<cite>await loop.pendings()</cite>
<cite>await loop.pendings(tasks)</cite></p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Loop.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>tasks=None</em>, <em>timeout=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Block, run loop until all tasks completed.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Loop.run_coroutine_threadsafe">
<code class="descname">run_coroutine_threadsafe</code><span class="sig-paren">(</span><em>coro</em>, <em>loop=None</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop.run_coroutine_threadsafe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop.run_coroutine_threadsafe" title="Permalink to this definition">¶</a></dt>
<dd><p>Be used when loop running in a single non-main thread.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Loop.run_forever">
<code class="descname">run_forever</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop.run_forever"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop.run_forever" title="Permalink to this definition">¶</a></dt>
<dd><p>Block, run loop forever.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Loop.run_in_executor">
<code class="descname">run_in_executor</code><span class="sig-paren">(</span><em>executor=None</em>, <em>func=None</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop.run_in_executor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop.run_in_executor" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>kwargs</cite> needed, try like this: func=lambda: foo(<a href="#id5"><span class="problematic" id="id6">*</span></a>args, <a href="#id7"><span class="problematic" id="id8">**</span></a>kwargs)</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Loop.run_in_process_pool">
<code class="descname">run_in_process_pool</code><span class="sig-paren">(</span><em>pool_size=None</em>, <em>func=None</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop.run_in_process_pool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop.run_in_process_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>kwargs</cite> needed, try like this: func=lambda: foo(<a href="#id9"><span class="problematic" id="id10">*</span></a>args, <a href="#id11"><span class="problematic" id="id12">**</span></a>kwargs)</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Loop.run_in_thread_pool">
<code class="descname">run_in_thread_pool</code><span class="sig-paren">(</span><em>pool_size=None</em>, <em>func=None</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop.run_in_thread_pool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop.run_in_thread_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>kwargs</cite> needed, try like this: func=lambda: foo(<a href="#id13"><span class="problematic" id="id14">*</span></a>args, <a href="#id15"><span class="problematic" id="id16">**</span></a>kwargs)</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Loop.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop self.loop directly, often be used with run_forever</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Loop.submit">
<code class="descname">submit</code><span class="sig-paren">(</span><em>coro</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop.submit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop.submit" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit a coro as NewTask to self.loop without loop.frequncy control.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">torequests.dummy</span> <span class="k">import</span> <span class="n">Loop</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="n">loop</span> <span class="o">=</span> <span class="n">Loop</span><span class="p">()</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">loop</span><span class="o">.</span><span class="n">frequency</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

<span class="n">coro</span> <span class="o">=</span> <span class="n">test</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">task</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">coro</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
<span class="c1"># loop.x can be ignore</span>
<span class="n">loop</span><span class="o">.</span><span class="n">x</span>
<span class="nb">print</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># &lt;NewTask pending coro=&lt;test() running at torequests/temp_code.py:58&gt;&gt;</span>
<span class="c1"># (Frequency(sem=&lt;0/0&gt;, interval=0, name=loop_sem), 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Loop.submitter">
<code class="descname">submitter</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop.submitter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop.submitter" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to submit a coro-function as NewTask to self.loop with sem control.
Use default_callback frequency of loop.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.dummy.Loop.todo_tasks">
<code class="descname">todo_tasks</code><a class="headerlink" href="#torequests.dummy.Loop.todo_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Return tasks in loop which its state is pending.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Loop.wait_all_tasks_done">
<code class="descname">wait_all_tasks_done</code><span class="sig-paren">(</span><em>timeout=None</em>, <em>delay=0.5</em>, <em>interval=0.1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Loop.wait_all_tasks_done"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Loop.wait_all_tasks_done" title="Permalink to this definition">¶</a></dt>
<dd><p>Block, only be used while loop running in a single non-main thread.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.dummy.Loop.x">
<code class="descname">x</code><a class="headerlink" href="#torequests.dummy.Loop.x" title="Permalink to this definition">¶</a></dt>
<dd><p>return self.run()</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="torequests.dummy.NewTask">
<em class="property">class </em><code class="descclassname">torequests.dummy.</code><code class="descname">NewTask</code><span class="sig-paren">(</span><em>coro</em>, <em>*</em>, <em>loop=None</em>, <em>callback=None</em>, <em>extra_args=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#NewTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.NewTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Add some special method &amp; attribute for asyncio.Task.</p>
<dl class="docutils">
<dt>Params:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param coro:</th><td class="field-body">a standard asyncio await in coroutines.</td>
</tr>
</tbody>
</table>
</dd>
<dt>Attrs:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">attr cx:</th><td class="field-body">blocking until the task finish and return the callback_result.</td>
</tr>
<tr class="field-even field"><th class="field-name">attr x:</th><td class="field-body">blocking until the task finish and return the value as <cite>coro</cite> returned.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">attr task_start_time:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">timestamp when the task start up.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">attr task_end_time:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">timestamp when the task end up.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">attr task_cost_time:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">seconds of task costs.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl class="attribute">
<dt id="torequests.dummy.NewTask.callback_result">
<code class="descname">callback_result</code><a class="headerlink" href="#torequests.dummy.NewTask.callback_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Blocking until the task finish and return the callback_result.until</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.dummy.NewTask.cx">
<code class="descname">cx</code><a class="headerlink" href="#torequests.dummy.NewTask.cx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self.callback_result</p>
</dd></dl>

<dl class="staticmethod">
<dt id="torequests.dummy.NewTask.wrap_callback">
<em class="property">static </em><code class="descname">wrap_callback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#NewTask.wrap_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.NewTask.wrap_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the callback’s result as self._callback_result.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.dummy.NewTask.x">
<code class="descname">x</code><a class="headerlink" href="#torequests.dummy.NewTask.x" title="Permalink to this definition">¶</a></dt>
<dd><p>Blocking until the task finish and return the self.result()</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="torequests.dummy.Requests">
<em class="property">class </em><code class="descclassname">torequests.dummy.</code><code class="descname">Requests</code><span class="sig-paren">(</span><em>n=100</em>, <em>interval=0</em>, <em>session=None</em>, <em>return_exceptions=True</em>, <em>default_callback=None</em>, <em>frequencies=None</em>, <em>default_host_frequency=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Requests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Requests" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap the aiohttp with NewTask.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>n</strong> – sometimes the performance is limited by too large “n”,
or raise ValueError: too many file descriptors on select() (win32),
so n=100 by default.</li>
<li><strong>interval</strong> – asyncio.sleep after each task done.</li>
<li><strong>session</strong> – special aiohttp.ClientSession.</li>
<li><strong>return_exceptions</strong> – whether catch and return the Exception instead of raising it.</li>
<li><strong>default_callback</strong> – None</li>
<li><strong>frequencies</strong> – None or {host: Frequency obj} or {host: [n, interval]}</li>
<li><strong>default_host_frequency</strong> – None</li>
<li><strong>**kwargs</strong> – <p>is used to aiohttp.ClientSession.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">torequests.dummy</span> <span class="k">import</span> <span class="n">Requests</span>
<span class="kn">from</span> <span class="nn">torequests.logs</span> <span class="k">import</span> <span class="n">print_info</span>
<span class="n">trequests</span> <span class="o">=</span> <span class="n">Requests</span><span class="p">(</span><span class="n">frequencies</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;p.3.cn&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)})</span>
<span class="n">ss</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">trequests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s1">&#39;http://p.3.cn&#39;</span><span class="p">,</span> <span class="n">retry</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
        <span class="n">callback</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">content</span><span class="p">),</span> <span class="n">print_info</span><span class="p">(</span><span class="n">trequests</span><span class="o">.</span><span class="n">frequencies</span><span class="p">)))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="p">]</span>
<span class="n">trequests</span><span class="o">.</span><span class="n">x</span>
<span class="n">ss</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">cx</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ss</span><span class="p">]</span>
<span class="n">print_info</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>

<span class="c1"># [2018-03-19 00:57:36]: {&#39;p.3.cn&#39;: Frequency(sem=&lt;1/2&gt;, interval=2)}</span>
<span class="c1"># [2018-03-19 00:57:36]: {&#39;p.3.cn&#39;: Frequency(sem=&lt;0/2&gt;, interval=2)}</span>
<span class="c1"># [2018-03-19 00:57:38]: {&#39;p.3.cn&#39;: Frequency(sem=&lt;1/2&gt;, interval=2)}</span>
<span class="c1"># [2018-03-19 00:57:38]: {&#39;p.3.cn&#39;: Frequency(sem=&lt;2/2&gt;, interval=2)}</span>
<span class="c1"># [2018-03-19 00:57:38]: [(612, None), (612, None), (612, None), (612, None)]</span>
</pre></div>
</div>
<dl class="method">
<dt id="torequests.dummy.Requests.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Requests.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Requests.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Should be closed[explicit] while using external session or connector,
instead of close by self.__del__.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Requests.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>url</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Requests.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Requests.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="torequests.dummy.Requests.ensure_frequencies">
<code class="descname">ensure_frequencies</code><span class="sig-paren">(</span><em>frequencies</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Requests.ensure_frequencies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Requests.ensure_frequencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure frequencies is dict of host-frequencies.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Requests.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>url</em>, <em>params=None</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Requests.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Requests.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="torequests.dummy.Requests.head">
<code class="descname">head</code><span class="sig-paren">(</span><em>url</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Requests.head"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Requests.head" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="torequests.dummy.Requests.options">
<code class="descname">options</code><span class="sig-paren">(</span><em>url</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Requests.options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Requests.options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="torequests.dummy.Requests.patch">
<code class="descname">patch</code><span class="sig-paren">(</span><em>url</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Requests.patch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Requests.patch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="torequests.dummy.Requests.post">
<code class="descname">post</code><span class="sig-paren">(</span><em>url</em>, <em>data=None</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Requests.post"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Requests.post" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="torequests.dummy.Requests.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>url</em>, <em>data=None</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Requests.put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Requests.put" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="torequests.dummy.Requests.request">
<code class="descname">request</code><span class="sig-paren">(</span><em>method</em>, <em>url</em>, <em>callback=None</em>, <em>retry=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Requests.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Requests.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit the coro of self._request to self.loop</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Requests.set_frequency">
<code class="descname">set_frequency</code><span class="sig-paren">(</span><em>host</em>, <em>sem=None</em>, <em>interval=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Requests.set_frequency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Requests.set_frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>Set frequency for host with sem and interval.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.dummy.Requests.update_frequency">
<code class="descname">update_frequency</code><span class="sig-paren">(</span><em>frequencies</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#Requests.update_frequency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.Requests.update_frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the frequencies with dict of new frequencies.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="torequests.dummy.coros">
<code class="descclassname">torequests.dummy.</code><code class="descname">coros</code><span class="sig-paren">(</span><em>n=None</em>, <em>interval=0</em>, <em>default_callback=None</em>, <em>loop=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#coros"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.coros" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for wrap coro_function into the function return NewTask.</p>
</dd></dl>

<dl class="function">
<dt id="torequests.dummy.get_results_generator">
<code class="descclassname">torequests.dummy.</code><code class="descname">get_results_generator</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/dummy.html#get_results_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.dummy.get_results_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO</p>
</dd></dl>

</div>
<div class="section" id="module-torequests.utils">
<span id="torequests-utils"></span><h2>torequests.utils<a class="headerlink" href="#module-torequests.utils" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="torequests.utils.ClipboardWatcher">
<em class="property">class </em><code class="descclassname">torequests.utils.</code><code class="descname">ClipboardWatcher</code><span class="sig-paren">(</span><em>interval=0.5</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#ClipboardWatcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.ClipboardWatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Watch clipboard with <cite>pyperclip</cite>, run callback while changed.</p>
<dl class="attribute">
<dt id="torequests.utils.ClipboardWatcher.current">
<code class="descname">current</code><a class="headerlink" href="#torequests.utils.ClipboardWatcher.current" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current clipboard content.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.utils.ClipboardWatcher.default_callback">
<code class="descname">default_callback</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#ClipboardWatcher.default_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.ClipboardWatcher.default_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Default clean the n in text.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.utils.ClipboardWatcher.read">
<code class="descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#ClipboardWatcher.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.ClipboardWatcher.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current clipboard content.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.utils.ClipboardWatcher.watch">
<code class="descname">watch</code><span class="sig-paren">(</span><em>limit=None</em>, <em>timeout=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#ClipboardWatcher.watch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.ClipboardWatcher.watch" title="Permalink to this definition">¶</a></dt>
<dd><p>Block method to watch the clipboard changing.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.utils.ClipboardWatcher.watch_async">
<code class="descname">watch_async</code><span class="sig-paren">(</span><em>limit=None</em>, <em>timeout=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#ClipboardWatcher.watch_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.ClipboardWatcher.watch_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Non-block method to watch the clipboard changing.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.utils.ClipboardWatcher.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#ClipboardWatcher.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.ClipboardWatcher.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Rewrite the current clipboard content.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.utils.ClipboardWatcher.x">
<code class="descname">x</code><a class="headerlink" href="#torequests.utils.ClipboardWatcher.x" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self.watch()</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="torequests.utils.Counts">
<em class="property">class </em><code class="descclassname">torequests.utils.</code><code class="descname">Counts</code><span class="sig-paren">(</span><em>start=0</em>, <em>step=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Counts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Counter for counting the times been called</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torequests.utils</span> <span class="k">import</span> <span class="n">Counts</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span> <span class="o">=</span> <span class="n">Counts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">x</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">x</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">now</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">current</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cc</span><span class="o">.</span><span class="n">sub</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
<dl class="method">
<dt id="torequests.utils.Counts.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>num=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Counts.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Counts.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.utils.Counts.c">
<code class="descname">c</code><a class="headerlink" href="#torequests.utils.Counts.c" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.utils.Counts.current">
<code class="descname">current</code><a class="headerlink" href="#torequests.utils.Counts.current" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.utils.Counts.now">
<code class="descname">now</code><a class="headerlink" href="#torequests.utils.Counts.now" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.utils.Counts.s">
<code class="descname">s</code><a class="headerlink" href="#torequests.utils.Counts.s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.utils.Counts.start">
<code class="descname">start</code><a class="headerlink" href="#torequests.utils.Counts.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.utils.Counts.step">
<code class="descname">step</code><a class="headerlink" href="#torequests.utils.Counts.step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="torequests.utils.Counts.sub">
<code class="descname">sub</code><span class="sig-paren">(</span><em>num=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Counts.sub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Counts.sub" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.utils.Counts.x">
<code class="descname">x</code><a class="headerlink" href="#torequests.utils.Counts.x" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="torequests.utils.Curl">
<em class="property">class </em><code class="descclassname">torequests.utils.</code><code class="descname">Curl</code><a class="reference internal" href="_modules/torequests/utils.html#Curl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Curl" title="Permalink to this definition">¶</a></dt>
<dd><p>Curl args parser.</p>
<p><strong>Use curlparse function directly.</strong></p>
<dl class="attribute">
<dt id="torequests.utils.Curl.parser">
<code class="descname">parser</code><em class="property"> = ArgumentParser(prog='sphinx-build', usage=None, description=None, formatter_class=&lt;class 'argparse.HelpFormatter'&gt;, conflict_handler='error', add_help=True)</em><a class="headerlink" href="#torequests.utils.Curl.parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="torequests.utils.Null">
<em class="property">class </em><code class="descclassname">torequests.utils.</code><code class="descname">Null</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Null"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Null" title="Permalink to this definition">¶</a></dt>
<dd><p>Null instance will return self when be called, it will alway be False.</p>
</dd></dl>

<dl class="class">
<dt id="torequests.utils.Regex">
<em class="property">class </em><code class="descclassname">torequests.utils.</code><code class="descname">Regex</code><span class="sig-paren">(</span><em>ensure_mapping=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Regex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Regex" title="Permalink to this definition">¶</a></dt>
<dd><p>Register some objects(like functions) to the regular expression.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torequests.utils</span> <span class="k">import</span> <span class="n">Regex</span><span class="p">,</span> <span class="n">re</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reg</span> <span class="o">=</span> <span class="n">Regex</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@reg</span><span class="o">.</span><span class="n">register_function</span><span class="p">(</span><span class="s1">&#39;http.*cctv.*&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">mock</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reg</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s1">&#39;http.*HELLOWORLD&#39;</span><span class="p">,</span> <span class="s1">&#39;helloworld&#39;</span><span class="p">,</span> <span class="n">instances</span><span class="o">=</span><span class="s1">&#39;http://helloworld&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reg</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s1">&#39;http.*HELLOWORLD2&#39;</span><span class="p">,</span> <span class="s1">&#39;helloworld2&#39;</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reg</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;http://cctv.com&#39;</span><span class="p">)</span>
<span class="go">[&lt;function mock at 0x031FC5D0&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reg</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;http://helloworld&#39;</span><span class="p">)</span>
<span class="go">[&#39;helloworld&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reg</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;non-http://helloworld&#39;</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reg</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;non-http://helloworld&#39;</span><span class="p">)</span>
<span class="go">[&#39;helloworld&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">reg</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;non-http://helloworld2&#39;</span><span class="p">))</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">reg</span><span class="o">.</span><span class="n">show_all</span><span class="p">())</span>
<span class="go">(&#39;http.*cctv.*&#39;) =&gt;  =&gt; &lt;class &#39;function&#39;&gt; mock &quot;&quot;</span>
<span class="go">(&#39;http.*HELLOWORLD&#39;, re.IGNORECASE) =&gt; http://helloworld =&gt; &lt;class &#39;str&#39;&gt; helloworld</span>
<span class="go">(&#39;http.*HELLOWORLD2&#39;, re.IGNORECASE) =&gt;  =&gt; &lt;class &#39;str&#39;&gt; helloworld2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reg</span><span class="o">.</span><span class="n">fuzzy</span><span class="p">(</span><span class="s1">&#39;non-http://helloworld&#39;</span><span class="p">)</span>
<span class="go">[(&#39;http://helloworld&#39;, 95)]</span>
</pre></div>
</div>
<dl class="method">
<dt id="torequests.utils.Regex.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>string</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Regex.find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Regex.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Return match or search result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="torequests.utils.Regex.fuzzy">
<code class="descname">fuzzy</code><span class="sig-paren">(</span><em>key</em>, <em>limit=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Regex.fuzzy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Regex.fuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Give suggestion from all instances.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.utils.Regex.match">
<code class="descname">match</code><span class="sig-paren">(</span><em>string</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Regex.match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Regex.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Use re.search to find the result</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="torequests.utils.Regex.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>patterns</em>, <em>obj=None</em>, <em>instances=None</em>, <em>**reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Regex.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Regex.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register one object which can be matched/searched by regex.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patterns</strong> – a list/tuple/set of regex-pattern.</li>
<li><strong>obj</strong> – return it while search/match success.</li>
<li><strong>instances</strong> – instance list will search/match the patterns.</li>
<li><strong>reg_kwargs</strong> – kwargs for re.compile.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="torequests.utils.Regex.register_function">
<code class="descname">register_function</code><span class="sig-paren">(</span><em>patterns</em>, <em>instances=None</em>, <em>**reg_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Regex.register_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Regex.register_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for register.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.utils.Regex.search">
<code class="descname">search</code><span class="sig-paren">(</span><em>string</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Regex.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Regex.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Use re.search to find the result</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="torequests.utils.Regex.show_all">
<code class="descname">show_all</code><span class="sig-paren">(</span><em>as_string=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Regex.show_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Regex.show_all" title="Permalink to this definition">¶</a></dt>
<dd><p>, python2 will not show flags</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="torequests.utils.Saver">
<em class="property">class </em><code class="descclassname">torequests.utils.</code><code class="descname">Saver</code><span class="sig-paren">(</span><em>path=None</em>, <em>save_mode='json'</em>, <em>**saver_args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Saver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Saver" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple object persistent toolkit with pickle/json, 
if only you don’t care the performance and security.
<strong>Do not set the key starts with “_”</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> – if not set, will be ~/_saver.db. print(self._path) to show it.
Set pickle’s protocol &lt; 3 for compatibility between python2/3, 
but use -1 for performance and some other optimizations.</li>
<li><strong>save_mode</strong> – pickle / json.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ss</span> <span class="o">=</span> <span class="n">Saver</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ss</span><span class="o">.</span><span class="n">_path</span>
<span class="go">&#39;/home/work/_saver.json&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ss</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ss</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 3, &#39;d&#39;: 4}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">ss</span><span class="o">.</span><span class="n">b</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
<span class="go">&quot;{&#39;a&#39;: 1, &#39;c&#39;: 3, &#39;d&#39;: 4}&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ss</span><span class="o">.</span><span class="n">_update</span><span class="p">({</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ss</span>
<span class="go">Saver(path=&quot;/home/work/_saver.json&quot;){&#39;a&#39;: 1, &#39;c&#39;: 3, &#39;d&#39;: 4}</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="torequests.utils.Timer">
<em class="property">class </em><code class="descclassname">torequests.utils.</code><code class="descname">Timer</code><span class="sig-paren">(</span><em>name=None</em>, <em>log_func=None</em>, <em>default_timer=None</em>, <em>rounding=None</em>, <em>readable=None</em>, <em>log_after_del=True</em>, <em>stack_level=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Timer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Timer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Usage:</dt>
<dd><dl class="first docutils">
<dt>init Timer anywhere:</dt>
<dd>such as head of function, or head of module, then it will show log after del it by gc.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">be used in log or None.</td>
</tr>
<tr class="field-even field"><th class="field-name">param log_func:</th><td class="field-body">some function to show process.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param default_timer:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">use <cite>timeit.default_timer</cite> by default.</td>
</tr>
<tr class="field-even field"><th class="field-name">param rounding:</th><td class="field-body">None, or seconds will be round(xxx, rounding)</td>
</tr>
<tr class="field-odd field"><th class="field-name">param readable:</th><td class="field-body">None, or use <cite>timepass</cite>: readable(cost_seconds) -&gt; 00:00:01,234</td>
</tr>
</tbody>
</table>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">torequests.utils</span> <span class="k">import</span> <span class="n">Timer</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="n">Timer</span><span class="p">()</span>

<span class="nd">@Timer</span><span class="o">.</span><span class="n">watch</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">Timer</span><span class="p">()</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_inner</span><span class="p">():</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">(</span><span class="s1">&#39;test_non_del&#39;</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">t</span><span class="o">.</span><span class="n">x</span>

    <span class="n">test_inner</span><span class="p">()</span>

<span class="n">test</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># [2018-03-10 02:16:48]: Timer [00:00:01]: test_non_del, start at 2018-03-10 02:16:47.</span>
<span class="c1"># [2018-03-10 02:16:48]: Timer [00:00:02]: test(a=3), start at 2018-03-10 02:16:46.</span>
<span class="c1"># [2018-03-10 02:16:48]: Timer [00:00:02]: test(3), start at 2018-03-10 02:16:46.</span>
<span class="c1"># [2018-03-10 02:16:49]: Timer [00:00:03]: &lt;module&gt;: __main__ (temp_code.py), start at 2018-03-10 02:16:46.</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="attribute">
<dt id="torequests.utils.Timer.passed">
<code class="descname">passed</code><a class="headerlink" href="#torequests.utils.Timer.passed" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cost_seconds after starting up.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.utils.Timer.string">
<code class="descname">string</code><a class="headerlink" href="#torequests.utils.Timer.string" title="Permalink to this definition">¶</a></dt>
<dd><p>Only return the expect_string quietly.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.utils.Timer.tick">
<code class="descname">tick</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Timer.tick"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Timer.tick" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the time cost string as expect.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="torequests.utils.Timer.watch">
<em class="property">static </em><code class="descname">watch</code><span class="sig-paren">(</span><em>**timer_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#Timer.watch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.Timer.watch" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for Timer.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.utils.Timer.x">
<code class="descname">x</code><a class="headerlink" href="#torequests.utils.Timer.x" title="Permalink to this definition">¶</a></dt>
<dd><p>Call self.log_func(self) and return expect_string.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="torequests.utils.UA">
<em class="property">class </em><code class="descclassname">torequests.utils.</code><code class="descname">UA</code><a class="reference internal" href="_modules/torequests/utils.html#UA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.UA" title="Permalink to this definition">¶</a></dt>
<dd><p>Some common User-Agents for crawler.</p>
<p>Android, iPhone, iPad, Firefox, Chrome, IE6, IE9</p>
<dl class="attribute">
<dt id="torequests.utils.UA.Android">
<code class="descname">Android</code><em class="property"> = 'Mozilla/5.0 (Linux; Android 5.1.1; Nexus 6 Build/LYZ28E) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Mobile Safari/537.36'</em><a class="headerlink" href="#torequests.utils.UA.Android" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.utils.UA.Chrome">
<code class="descname">Chrome</code><em class="property"> = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Safari/537.36'</em><a class="headerlink" href="#torequests.utils.UA.Chrome" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.utils.UA.Firefox">
<code class="descname">Firefox</code><em class="property"> = 'Mozilla/5.0 (Windows NT 10.0; WOW64; rv:54.0) Gecko/20100101 Firefox/54.0'</em><a class="headerlink" href="#torequests.utils.UA.Firefox" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.utils.UA.IE6">
<code class="descname">IE6</code><em class="property"> = 'Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)'</em><a class="headerlink" href="#torequests.utils.UA.IE6" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.utils.UA.IE9">
<code class="descname">IE9</code><em class="property"> = 'Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0;'</em><a class="headerlink" href="#torequests.utils.UA.IE9" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.utils.UA.iPad">
<code class="descname">iPad</code><em class="property"> = 'Mozilla/5.0 (iPad; CPU OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1'</em><a class="headerlink" href="#torequests.utils.UA.iPad" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.utils.UA.iPhone">
<code class="descname">iPhone</code><em class="property"> = 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) CriOS/56.0.2924.75 Mobile/14E5239e Safari/602.1'</em><a class="headerlink" href="#torequests.utils.UA.iPhone" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="torequests.utils.curlparse">
<code class="descclassname">torequests.utils.</code><code class="descname">curlparse</code><span class="sig-paren">(</span><em>string</em>, <em>encoding='utf-8'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#curlparse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.curlparse" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Translate curl-string into dict of request.</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param string:</th><td class="field-body">standard curl-string, like <cite>r’‘’curl …’‘’</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">param encoding:</th><td class="field-body">encoding for post-data encoding.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p>Basic Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torequests.utils</span> <span class="k">import</span> <span class="n">curlparse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">curl_string</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;curl &#39;https://p.3.cn?skuIds=1&amp;nonsense=1&amp;nonce=0&#39; -H &#39;Pragma: no-cache&#39; -H &#39;DNT: 1&#39; -H &#39;Accept-Encoding: gzip, deflate&#39; -H &#39;Accept-Language: zh-CN,zh;q=0.9&#39; -H &#39;Upgrade-Insecure-Requests: 1&#39; -H &#39;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Safari/537.36&#39; -H &#39;Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&#39; -H &#39;Cache-Control: no-cache&#39; -H &#39;Referer: https://p.3.cn?skuIds=1&amp;nonsense=1&amp;nonce=0&#39; -H &#39;Cookie: ASPSESSIONIDSQRRSADB=MLHDPOPCAMBDGPFGBEEJKLAF&#39; -H &#39;Connection: keep-alive&#39; --compressed&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request_args</span> <span class="o">=</span> <span class="n">curlparse</span><span class="p">(</span><span class="n">curl_string</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request_args</span>
<span class="go">{&#39;url&#39;: &#39;https://p.3.cn?skuIds=1&amp;nonsense=1&amp;nonce=0&#39;, &#39;headers&#39;: {&#39;Pragma&#39;: &#39;no-cache&#39;, &#39;Dnt&#39;: &#39;1&#39;, &#39;Accept-Encoding&#39;: &#39;gzip, deflate&#39;, &#39;Accept-Language&#39;: &#39;zh-CN,zh;q=0.9&#39;, &#39;Upgrade-Insecure-Requests&#39;: &#39;1&#39;, &#39;User-Agent&#39;: &#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Safari/537.36&#39;, &#39;Accept&#39;: &#39;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&#39;, &#39;Cache-Control&#39;: &#39;no-cache&#39;, &#39;Referer&#39;: &#39;https://p.3.cn?skuIds=1&amp;nonsense=1&amp;nonce=0&#39;, &#39;Cookie&#39;: &#39;ASPSESSIONIDSQRRSADB=MLHDPOPCAMBDGPFGBEEJKLAF&#39;, &#39;Connection&#39;: &#39;keep-alive&#39;}, &#39;method&#39;: &#39;get&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">requests</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="o">**</span><span class="n">request_args</span><span class="p">)</span>
<span class="go">&lt;Response [200]&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.ensure_dict_key_title">
<code class="descclassname">torequests.utils.</code><code class="descname">ensure_dict_key_title</code><span class="sig-paren">(</span><em>dict_obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#ensure_dict_key_title"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.ensure_dict_key_title" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dict key as key.title(); keys should be str.
Always be used to headers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torequests.utils</span> <span class="k">import</span> <span class="n">ensure_dict_key_title</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ensure_dict_key_title</span><span class="p">({</span><span class="s1">&#39;hello-world&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;HELLOWORLD&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span>
<span class="go">{&#39;Hello-World&#39;: 1, &#39;Helloworld&#39;: 2}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.ensure_request">
<code class="descclassname">torequests.utils.</code><code class="descname">ensure_request</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#ensure_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.ensure_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for requests.request / Requests.request with <a href="#id19"><span class="problematic" id="id20">**</span></a>ensure_request(request)
:param request: dict or curl-string or url</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torequests.utils</span> <span class="k">import</span> <span class="n">ensure_request</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ensure_request</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;curl http://test.com&#39;&#39;&#39;</span><span class="p">)</span>
<span class="go">{&#39;url&#39;: &#39;http://test.com&#39;, &#39;method&#39;: &#39;get&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ensure_request</span><span class="p">(</span><span class="s1">&#39;http://test.com&#39;</span><span class="p">)</span>
<span class="go">{&#39;method&#39;: &#39;get&#39;, &#39;url&#39;: &#39;http://test.com&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ensure_request</span><span class="p">({</span><span class="s1">&#39;method&#39;</span><span class="p">:</span> <span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://test.com&#39;</span><span class="p">})</span>
<span class="go">{&#39;method&#39;: &#39;get&#39;, &#39;url&#39;: &#39;http://test.com&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ensure_request</span><span class="p">({</span><span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://test.com&#39;</span><span class="p">})</span>
<span class="go">{&#39;url&#39;: &#39;http://test.com&#39;, &#39;method&#39;: &#39;get&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.itertools_chain">
<code class="descclassname">torequests.utils.</code><code class="descname">itertools_chain</code><span class="sig-paren">(</span><em>*iterables</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#itertools_chain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.itertools_chain" title="Permalink to this definition">¶</a></dt>
<dd><p>For the shortage of Python2’s, Python3: <cite>from itertools import chain</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.kill_after">
<code class="descclassname">torequests.utils.</code><code class="descname">kill_after</code><span class="sig-paren">(</span><em>seconds</em>, <em>timeout=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#kill_after"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.kill_after" title="Permalink to this definition">¶</a></dt>
<dd><p>Kill self after seconds</p>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.md5">
<code class="descclassname">torequests.utils.</code><code class="descname">md5</code><span class="sig-paren">(</span><em>string</em>, <em>n=32</em>, <em>encoding='utf-8'</em>, <em>skip_encode=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#md5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.md5" title="Permalink to this definition">¶</a></dt>
<dd><p>str(obj) -&gt; md5_string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>string</strong> – string to operate.</li>
<li><strong>n</strong> – md5_str length.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torequests.utils</span> <span class="k">import</span> <span class="n">md5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">md5</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">&#39;923820dcc5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">md5</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
<span class="go">&#39;098f6bcd4621d373cade4e832627b4f6&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="torequests.utils.null">
<code class="descclassname">torequests.utils.</code><code class="descname">null</code><a class="headerlink" href="#torequests.utils.null" title="Permalink to this definition">¶</a></dt>
<dd><p>Null instance will return self when be called, it will alway be False.</p>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.print_mem">
<code class="descclassname">torequests.utils.</code><code class="descname">print_mem</code><span class="sig-paren">(</span><em>unit='MB'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#print_mem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.print_mem" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the proc-mem-cost with psutil, use this only for lazinesssss.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> – B, KB, MB, GB.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.ptime">
<code class="descclassname">torequests.utils.</code><code class="descname">ptime</code><span class="sig-paren">(</span><em>timestr=None</em>, <em>tzone=None</em>, <em>fail=0</em>, <em>fmt='%Y-%m-%d %H:%M:%S'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#ptime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.ptime" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate %Y-%m-%d %H:%M:%S into timestamp.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>timestr</strong> – string like 2018-03-15 01:27:56, or time.time() if not set.</li>
<li><strong>tzone</strong> – time compensation, int(-time.timezone / 3600) by default, 
(can be set with Config.TIMEZONE).</li>
<li><strong>fail</strong> – while raising an exception, return it.</li>
<li><strong>fmt</strong> – <p>%Y-%m-%d %H:%M:%S, %z not work.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ptime</span><span class="p">(</span><span class="s1">&#39;2018-03-15 01:27:56&#39;</span><span class="p">)</span>
<span class="go">1521048476.0</span>
</pre></div>
</div>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.simple_cmd">
<code class="descclassname">torequests.utils.</code><code class="descname">simple_cmd</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#simple_cmd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.simple_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">Deprecated</span></code>: Not better than <code class="docutils literal notranslate"><span class="pre">fire</span></code> -&gt; pip install fire</p>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.slice_by_size">
<code class="descclassname">torequests.utils.</code><code class="descname">slice_by_size</code><span class="sig-paren">(</span><em>seq</em>, <em>size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#slice_by_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.slice_by_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice a sequence into chunks, return as a generation of chunks with <cite>size</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.slice_into_pieces">
<code class="descclassname">torequests.utils.</code><code class="descname">slice_into_pieces</code><span class="sig-paren">(</span><em>seq</em>, <em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#slice_into_pieces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.slice_into_pieces" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice a sequence into <cite>n</cite> pieces, return a generation of n pieces</p>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.split_seconds">
<code class="descclassname">torequests.utils.</code><code class="descname">split_seconds</code><span class="sig-paren">(</span><em>seconds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#split_seconds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.split_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>Split seconds into [day, hour, minute, second, millisecond]</p>
<blockquote>
<div><p><cite>divisor: 1, 24, 60, 60, 1000</cite></p>
<p><cite>units: day, hour, minute, second, millisecond</cite></p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">split_seconds</span><span class="p">(</span><span class="mi">6666666</span><span class="p">)</span>
<span class="go">[77, 3, 51, 6, 0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.timeago">
<code class="descclassname">torequests.utils.</code><code class="descname">timeago</code><span class="sig-paren">(</span><em>seconds=0</em>, <em>accuracy=4</em>, <em>format=0</em>, <em>lang='en'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#timeago"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.timeago" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate seconds into human-readable.</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param seconds:</th><td class="field-body">seconds (float/int).</td>
</tr>
<tr class="field-even field"><th class="field-name">param accuracy:</th><td class="field-body">4 by default (units[:accuracy]), determine the length of elements.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param format:</th><td class="field-body">index of [led, literal, dict].</td>
</tr>
<tr class="field-even field"><th class="field-name">param lang:</th><td class="field-body">en or cn.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param units:</th><td class="field-body">day, hour, minute, second, millisecond.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">timeago</span><span class="p">(</span><span class="mf">93245732.0032424</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">&#39;1079 days, 05:35:32,003&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timeago</span><span class="p">(</span><span class="mf">93245732.0032424</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;1079 days 5 hours 35 minutes 32 seconds&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timeago</span><span class="p">(</span><span class="o">-</span><span class="mi">389</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;-6 minutes 29 seconds 0 millisecond&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.timepass">
<code class="descclassname">torequests.utils.</code><code class="descname">timepass</code><span class="sig-paren">(</span><em>seconds=0</em>, <em>accuracy=4</em>, <em>format=0</em>, <em>lang='en'</em><span class="sig-paren">)</span><a class="headerlink" href="#torequests.utils.timepass" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate seconds into human-readable.</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param seconds:</th><td class="field-body">seconds (float/int).</td>
</tr>
<tr class="field-even field"><th class="field-name">param accuracy:</th><td class="field-body">4 by default (units[:accuracy]), determine the length of elements.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param format:</th><td class="field-body">index of [led, literal, dict].</td>
</tr>
<tr class="field-even field"><th class="field-name">param lang:</th><td class="field-body">en or cn.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param units:</th><td class="field-body">day, hour, minute, second, millisecond.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">timeago</span><span class="p">(</span><span class="mf">93245732.0032424</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">&#39;1079 days, 05:35:32,003&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timeago</span><span class="p">(</span><span class="mf">93245732.0032424</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;1079 days 5 hours 35 minutes 32 seconds&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timeago</span><span class="p">(</span><span class="o">-</span><span class="mi">389</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;-6 minutes 29 seconds 0 millisecond&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.try_import">
<code class="descclassname">torequests.utils.</code><code class="descname">try_import</code><span class="sig-paren">(</span><em>module_name</em>, <em>names=None</em>, <em>default=&lt;class 'torequests.exceptions.ImportErrorModule'&gt;</em>, <em>warn=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#try_import"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.try_import" title="Permalink to this definition">¶</a></dt>
<dd><p>Try import module_name, except ImportError and return default,
sometimes to be used for catch ImportError and lazy-import.</p>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.ttime">
<code class="descclassname">torequests.utils.</code><code class="descname">ttime</code><span class="sig-paren">(</span><em>timestamp=None</em>, <em>tzone=None</em>, <em>fail=''</em>, <em>fmt='%Y-%m-%d %H:%M:%S'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#ttime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.ttime" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate timestamp into human-readable: %Y-%m-%d %H:%M:%S.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>timestamp</strong> – the timestamp float, or <cite>time.time()</cite> by default.</li>
<li><strong>tzone</strong> – time compensation, int(-time.timezone / 3600) by default, 
(can be set with Config.TIMEZONE).</li>
<li><strong>fail</strong> – while raising an exception, return it.</li>
<li><strong>fmt</strong> – %Y-%m-%d %H:%M:%S, %z not work.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ttime</span><span class="p">()</span>
<span class="go">2018-03-15 01:24:35</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ttime</span><span class="p">(</span><span class="mf">1486572818.421858323</span><span class="p">)</span>
<span class="go">2017-02-09 00:53:38</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.unique">
<code class="descclassname">torequests.utils.</code><code class="descname">unique</code><span class="sig-paren">(</span><em>seq</em>, <em>return_as=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#unique"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.unique" title="Permalink to this definition">¶</a></dt>
<dd><p>Unique the seq and keep the order.</p>
<dl class="docutils">
<dt>Instead of the slow way:</dt>
<dd><cite>lambda seq: (x for index, x in enumerate(seq) if seq.index(x)==index)</cite></dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>seq</strong> – raw sequence.</li>
<li><strong>return_as</strong> – generator for default, or list / set / str…</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torequests.utils</span> <span class="k">import</span> <span class="n">unique</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unique</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;generator object unique.&lt;locals&gt;.&lt;genexpr&gt; at 0x05720EA0&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unique</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
<span class="go">&#39;1234&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unique</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
<span class="go">[1, 2, 3, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.unparse_qs">
<code class="descclassname">torequests.utils.</code><code class="descname">unparse_qs</code><span class="sig-paren">(</span><em>qs</em>, <em>sort=False</em>, <em>reverse=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#unparse_qs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.unparse_qs" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse conversion for parse_qs</p>
</dd></dl>

<dl class="function">
<dt id="torequests.utils.unparse_qsl">
<code class="descclassname">torequests.utils.</code><code class="descname">unparse_qsl</code><span class="sig-paren">(</span><em>qsl</em>, <em>sort=False</em>, <em>reverse=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/utils.html#unparse_qsl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.utils.unparse_qsl" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse conversion for parse_qsl</p>
</dd></dl>

</div>
<div class="section" id="module-torequests.configs">
<span id="torequests-configs"></span><h2>torequests.configs<a class="headerlink" href="#module-torequests.configs" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="torequests.configs.Config">
<em class="property">class </em><code class="descclassname">torequests.configs.</code><code class="descname">Config</code><a class="reference internal" href="_modules/torequests/configs.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.configs.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Some global default configs.</p>
<dl class="attribute">
<dt id="torequests.configs.Config.TIMEZONE">
<code class="descname">TIMEZONE</code><em class="property"> = 8</em><a class="headerlink" href="#torequests.configs.Config.TIMEZONE" title="Permalink to this definition">¶</a></dt>
<dd><p>local timezone for calculating</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.configs.Config.dummy_logger">
<code class="descname">dummy_logger</code><em class="property"> = &lt;Logger torequests.dummy (INFO)&gt;</em><a class="headerlink" href="#torequests.configs.Config.dummy_logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.configs.Config.main_logger">
<code class="descname">main_logger</code><em class="property"> = &lt;Logger torequests.main (INFO)&gt;</em><a class="headerlink" href="#torequests.configs.Config.main_logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.configs.Config.utils_logger">
<code class="descname">utils_logger</code><em class="property"> = &lt;Logger torequests.utils (INFO)&gt;</em><a class="headerlink" href="#torequests.configs.Config.utils_logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-torequests.crawlers">
<span id="torequests-crawlers"></span><h2>torequests.crawlers<a class="headerlink" href="#module-torequests.crawlers" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="torequests.crawlers.CleanRequest">
<em class="property">class </em><code class="descclassname">torequests.crawlers.</code><code class="descname">CleanRequest</code><span class="sig-paren">(</span><em>request</em>, <em>n=10</em>, <em>interval=0</em>, <em>ensure_response=None</em>, <em>retry=0</em>, <em>timeout=10</em>, <em>logger_function=None</em>, <em>encoding='utf-8'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#CleanRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.CleanRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean the non-sense request args but return the original response.</p>
<p>Basic Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torequests.crawlers</span> <span class="k">import</span> <span class="n">CleanRequest</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">request</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;curl &#39;https://p.3.cn?skuIds=1&amp;nonsense=1&amp;nonce=0&#39; -H &#39;Pragma: no-cache&#39; -H &#39;DNT: 1&#39; -H &#39;Accept-Encoding: gzip, deflate&#39; -H &#39;Accept-Language: zh-CN,zh;q=0.9&#39; -H &#39;Upgrade-Insecure-Requests: 1&#39; -H &#39;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Safari/537.36&#39; -H &#39;Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&#39; -H &#39;Cache-Control: no-cache&#39; -H &#39;Referer: https://p.3.cn?skuIds=1&amp;nonsense=1&amp;nonce=0&#39; -H &#39;Cookie: ASPSESSIONIDSQRRSADB=MLHDPOPCAMBDGPFGBEEJKLAF&#39; -H &#39;Connection: keep-alive&#39; --compressed&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">CleanRequest</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">x</span>
<span class="go">{&#39;url&#39;: &#39;https://p.3.cn&#39;, &#39;method&#39;: &#39;get&#39;}</span>
</pre></div>
</div>
<dl class="method">
<dt id="torequests.crawlers.CleanRequest.clean_all">
<code class="descname">clean_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#CleanRequest.clean_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.CleanRequest.clean_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean the url + post-data + headers, return self.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.crawlers.CleanRequest.clean_cookie">
<code class="descname">clean_cookie</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#CleanRequest.clean_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.CleanRequest.clean_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Only clean the cookie from headers and return self.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.crawlers.CleanRequest.clean_headers">
<code class="descname">clean_headers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#CleanRequest.clean_headers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.CleanRequest.clean_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Only clean the headers (cookie include) and return self.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.crawlers.CleanRequest.clean_post_data">
<code class="descname">clean_post_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#CleanRequest.clean_post_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.CleanRequest.clean_post_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Only clean the post-data and return self.</p>
<p>Including form-data / bytes-data / json-data.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.crawlers.CleanRequest.clean_url">
<code class="descname">clean_url</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#CleanRequest.clean_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.CleanRequest.clean_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Only clean the url params and return self.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.CleanRequest.has_json_data">
<code class="descname">has_json_data</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.CleanRequest.has_json_data" title="Permalink to this definition">¶</a></dt>
<dd><p>If the post-data should be seen as json.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.CleanRequest.ignore">
<code class="descname">ignore</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.CleanRequest.ignore" title="Permalink to this definition">¶</a></dt>
<dd><p>request args which can be ignored.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.crawlers.CleanRequest.init_original_response">
<code class="descname">init_original_response</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#CleanRequest.init_original_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.CleanRequest.init_original_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the original response for comparing, confirm is_cookie_necessary</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.CleanRequest.new_request">
<code class="descname">new_request</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.CleanRequest.new_request" title="Permalink to this definition">¶</a></dt>
<dd><p>The cleaned request to be return at last.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.crawlers.CleanRequest.reset_new_request">
<code class="descname">reset_new_request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#CleanRequest.reset_new_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.CleanRequest.reset_new_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the non-sense args from the self.ignore, return self.new_request</p>
</dd></dl>

<dl class="method">
<dt id="torequests.crawlers.CleanRequest.result">
<code class="descname">result</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#CleanRequest.result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.CleanRequest.result" title="Permalink to this definition">¶</a></dt>
<dd><p>Whole task, clean_all + reset_new_request, return self.new_request.</p>
</dd></dl>

<dl class="classmethod">
<dt id="torequests.crawlers.CleanRequest.sort_url_qsl">
<em class="property">classmethod </em><code class="descname">sort_url_qsl</code><span class="sig-paren">(</span><em>raw_url</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#CleanRequest.sort_url_qsl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.CleanRequest.sort_url_qsl" title="Permalink to this definition">¶</a></dt>
<dd><p>Do nothing but sort the params of url.</p>
<p>raw_url: the raw url to be sorted; 
kwargs: (optional) same kwargs for <code class="docutils literal notranslate"><span class="pre">sorted</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.CleanRequest.tasks">
<code class="descname">tasks</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.CleanRequest.tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of async-requests task.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.CleanRequest.x">
<code class="descname">x</code><a class="headerlink" href="#torequests.crawlers.CleanRequest.x" title="Permalink to this definition">¶</a></dt>
<dd><p>Property as self.result()</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="torequests.crawlers.CommonRequests">
<em class="property">class </em><code class="descclassname">torequests.crawlers.</code><code class="descname">CommonRequests</code><span class="sig-paren">(</span><em>request</em>, <em>n=10</em>, <em>interval=0</em>, <em>ensure_response=None</em>, <em>retry=0</em>, <em>timeout=10</em>, <em>logger_function=None</em>, <em>encoding=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#CommonRequests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.CommonRequests" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="torequests.crawlers.CommonRequests.check_response_unchanged">
<code class="descname">check_response_unchanged</code><span class="sig-paren">(</span><em>resp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#CommonRequests.check_response_unchanged"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.CommonRequests.check_response_unchanged" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.CommonRequests.encoding">
<code class="descname">encoding</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.CommonRequests.encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>default encoding or detected by response</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.CommonRequests.ensure_response">
<code class="descname">ensure_response</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.CommonRequests.ensure_response" title="Permalink to this definition">¶</a></dt>
<dd><p>function to check the same response.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.crawlers.CommonRequests.init_original_response">
<code class="descname">init_original_response</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#CommonRequests.init_original_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.CommonRequests.init_original_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the original response for comparing, confirm <code class="docutils literal notranslate"><span class="pre">is_cookie_necessary</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.CommonRequests.logger_function">
<code class="descname">logger_function</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.CommonRequests.logger_function" title="Permalink to this definition">¶</a></dt>
<dd><p>If not set, will use print_info</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.CommonRequests.req">
<code class="descname">req</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.CommonRequests.req" title="Permalink to this definition">¶</a></dt>
<dd><p>torequests’s async requests tool.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.CommonRequests.request">
<code class="descname">request</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.CommonRequests.request" title="Permalink to this definition">¶</a></dt>
<dd><p>request: dict or curl-string or url; 
self.request should not be modified</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.CommonRequests.retry">
<code class="descname">retry</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.CommonRequests.retry" title="Permalink to this definition">¶</a></dt>
<dd><p>max reties for bad response.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.CommonRequests.timeout">
<code class="descname">timeout</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.CommonRequests.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>default timeout</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="torequests.crawlers.Seed">
<em class="property">class </em><code class="descclassname">torequests.crawlers.</code><code class="descname">Seed</code><span class="sig-paren">(</span><em>name</em>, <em>frequency</em>, <em>request</em>, <em>item_parsers</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#Seed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.Seed" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="torequests.crawlers.Seed.as_dict">
<code class="descname">as_dict</code><a class="headerlink" href="#torequests.crawlers.Seed.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Property return key-value dict from __slots__.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.Seed.as_json">
<code class="descname">as_json</code><a class="headerlink" href="#torequests.crawlers.Seed.as_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Property return key-value json-string from __slots__.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.Seed.as_list">
<code class="descname">as_list</code><a class="headerlink" href="#torequests.crawlers.Seed.as_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Property return the value for keys of __slots__.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.Seed.encoding">
<code class="descname">encoding</code><a class="headerlink" href="#torequests.crawlers.Seed.encoding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.Seed.frequency">
<code class="descname">frequency</code><a class="headerlink" href="#torequests.crawlers.Seed.frequency" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.Seed.item_parsers">
<code class="descname">item_parsers</code><a class="headerlink" href="#torequests.crawlers.Seed.item_parsers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.Seed.name">
<code class="descname">name</code><a class="headerlink" href="#torequests.crawlers.Seed.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.Seed.request">
<code class="descname">request</code><a class="headerlink" href="#torequests.crawlers.Seed.request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="torequests.crawlers.StressTest">
<em class="property">class </em><code class="descclassname">torequests.crawlers.</code><code class="descname">StressTest</code><span class="sig-paren">(</span><em>request</em>, <em>n=10</em>, <em>interval=0</em>, <em>ensure_response=None</em>, <em>retry=0</em>, <em>timeout=10</em>, <em>logger_function=None</em>, <em>encoding=None</em>, <em>total_tries=None</em>, <em>total_time=None</em>, <em>shutdown=None</em>, <em>shutdown_changed=True</em>, <em>chunk_size=100</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#StressTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.StressTest" title="Permalink to this definition">¶</a></dt>
<dd><p>StressTest for a request(dict/curl-string/url).</p>
<p>Basic Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torequests.crawlers</span> <span class="k">import</span> <span class="n">StressTest</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">StressTest</span><span class="p">(</span><span class="s1">&#39;http://p.3.cn&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">x</span>
<span class="go">[2018-03-13 00:33:52]: [154] response: f3f97a64-612, start at 2018-03-13 00:33:51 (+00:00:00), 165.0 req/s [100.00 %]</span>
<span class="go">[2018-03-13 00:33:52]: [155] response: f3f97a64-612, start at 2018-03-13 00:33:51 (+00:00:00), 166.0 req/s [100.00 %]</span>
<span class="go">[2018-03-13 00:33:52]: [156] response: f3f97a64-612, start at 2018-03-13 00:33:51 (+00:00:00), 167.0 req/s [100.00 %]</span>
<span class="go">[2018-03-13 00:33:52]: [157] response: f3f97a64-612, start at 2018-03-13 00:33:51 (+00:00:00), 167.0 req/s [100.00 %]</span>
<span class="go">[2018-03-13 00:33:52]: [158] response: f3f97a64-612, start at 2018-03-13 00:33:51 (+00:00:00), 168.0 req/s [100.00 %]</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="torequests.crawlers.StressTest.chunk_size">
<code class="descname">chunk_size</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.StressTest.chunk_size" title="Permalink to this definition">¶</a></dt>
<dd><p>fetch requests chunk_size each time, default 100</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.StressTest.counter">
<code class="descname">counter</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.StressTest.counter" title="Permalink to this definition">¶</a></dt>
<dd><p>counter for all response fetched</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.StressTest.passed">
<code class="descname">passed</code><a class="headerlink" href="#torequests.crawlers.StressTest.passed" title="Permalink to this definition">¶</a></dt>
<dd><p>This attribute returns the seconds after starting up.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.StressTest.shutdown">
<code class="descname">shutdown</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.StressTest.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>shutdown function, <code class="docutils literal notranslate"><span class="pre">os._exit(0)</span></code> if not set.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.StressTest.shutdown_changed">
<code class="descname">shutdown_changed</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.StressTest.shutdown_changed" title="Permalink to this definition">¶</a></dt>
<dd><p>shutdown if response changed.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.StressTest.speed">
<code class="descname">speed</code><a class="headerlink" href="#torequests.crawlers.StressTest.speed" title="Permalink to this definition">¶</a></dt>
<dd><p>Speed property, the unit can be <cite>req / s</cite>.</p>
<p>Returns: the num of request is fetched in one second.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.StressTest.st_callback">
<code class="descname">st_callback</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.StressTest.st_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>StressTest callback function, will be wrapped.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.crawlers.StressTest.st_callback_wrapper">
<code class="descname">st_callback_wrapper</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#StressTest.st_callback_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.StressTest.st_callback_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>add shutdown checker for origin callback function.</p>
</dd></dl>

<dl class="method">
<dt id="torequests.crawlers.StressTest.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/crawlers.html#StressTest.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.crawlers.StressTest.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the task cycle.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.StressTest.start_time">
<code class="descname">start_time</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.StressTest.start_time" title="Permalink to this definition">¶</a></dt>
<dd><p>timestamp for starting up, time.time()</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.StressTest.start_time_readable">
<code class="descname">start_time_readable</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.StressTest.start_time_readable" title="Permalink to this definition">¶</a></dt>
<dd><p>readable-time-string for starting up, ttime(self.start_time)</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.StressTest.succ_counter">
<code class="descname">succ_counter</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.StressTest.succ_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>counter for success response fetched</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.StressTest.succ_rate">
<code class="descname">succ_rate</code><a class="headerlink" href="#torequests.crawlers.StressTest.succ_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>The request rate of success. Returns :string like <cite>100.00%</cite></p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.StressTest.total_time">
<code class="descname">total_time</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.StressTest.total_time" title="Permalink to this definition">¶</a></dt>
<dd><p>the limit of time run-time, stop the script while reaching.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.StressTest.total_tries">
<code class="descname">total_tries</code><em class="property"> = None</em><a class="headerlink" href="#torequests.crawlers.StressTest.total_tries" title="Permalink to this definition">¶</a></dt>
<dd><p>the limit of total response count, stop the script while reaching.</p>
</dd></dl>

<dl class="attribute">
<dt id="torequests.crawlers.StressTest.x">
<code class="descname">x</code><a class="headerlink" href="#torequests.crawlers.StressTest.x" title="Permalink to this definition">¶</a></dt>
<dd><p>This attribute returns self.start()</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-torequests.exceptions">
<span id="torequests-exceptions"></span><h2>torequests.exceptions<a class="headerlink" href="#module-torequests.exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="torequests.exceptions.CommonException">
<em class="property">exception </em><code class="descclassname">torequests.exceptions.</code><code class="descname">CommonException</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/exceptions.html#CommonException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.exceptions.CommonException" title="Permalink to this definition">¶</a></dt>
<dd><p>This Exception mainly used for <cite>bool(self) is False</cite>, and not <cite>callable</cite>.</p>
</dd></dl>

<dl class="exception">
<dt id="torequests.exceptions.FailureException">
<em class="property">exception </em><code class="descclassname">torequests.exceptions.</code><code class="descname">FailureException</code><span class="sig-paren">(</span><em>error</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/exceptions.html#FailureException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.exceptions.FailureException" title="Permalink to this definition">¶</a></dt>
<dd><p>Use <cite>self.error</cite> to review the origin exception.</p>
</dd></dl>

<dl class="exception">
<dt id="torequests.exceptions.ImportErrorModule">
<em class="property">exception </em><code class="descclassname">torequests.exceptions.</code><code class="descname">ImportErrorModule</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/exceptions.html#ImportErrorModule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.exceptions.ImportErrorModule" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-torequests.logs">
<span id="torequests-logs"></span><h2>torequests.logs<a class="headerlink" href="#module-torequests.logs" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="torequests.logs.init_logger">
<code class="descclassname">torequests.logs.</code><code class="descname">init_logger</code><span class="sig-paren">(</span><em>name=''</em>, <em>handler_path_levels=None</em>, <em>level=20</em>, <em>formatter=None</em>, <em>formatter_str=None</em>, <em>datefmt='%Y-%m-%d %H:%M:%S'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/logs.html#init_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.logs.init_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a default handler for logger.</p>
<p>Args:</p>
<p>name = ‘’ or logger obj.</p>
<p>handler_path_levels = [[‘loggerfile.log’,13],[‘’,’DEBUG’],[‘’,’info’],[‘’,’notSet’]] # [[path,level]]</p>
<p>level = the least level for the logger.</p>
<dl class="docutils">
<dt>formatter = logging.Formatter(</dt>
<dd><dl class="first last docutils">
<dt>‘%(levelname)-7s %(asctime)s %(name)s (%(filename)s: %(lineno)s): %(message)s’,</dt>
<dd>“%Y-%m-%d %H:%M:%S”)</dd>
</dl>
</dd>
</dl>
<p>formatter_str = ‘%(levelname)-7s %(asctime)s  %(name)s (%(funcName)s: %(lineno)s): %(message)s’</p>
<dl class="docutils">
<dt>custom formatter:</dt>
<dd>%(asctime)s  %(created)f  %(filename)s  %(funcName)s  %(levelname)s  %(levelno)s  %(lineno)s   %(message)s   %(module)s    %(name)s   %(pathname)s   %(process)s   %(relativeCreated)s   %(thread)s  %(threadName)s</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-torequests.parsers">
<span id="torequests-parsers"></span><h2>torequests.parsers<a class="headerlink" href="#module-torequests.parsers" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="torequests.parsers.SimpleParser">
<em class="property">class </em><code class="descclassname">torequests.parsers.</code><code class="descname">SimpleParser</code><span class="sig-paren">(</span><em>encoding=None</em>, <em>json_parser=None</em>, <em>regex_parser=None</em>, <em>html_parser=None</em>, <em>xml_parser=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/parsers.html#SimpleParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.parsers.SimpleParser" title="Permalink to this definition">¶</a></dt>
<dd><p>pip install lxml cssselect jsonpath_rw_ext objectpath;</p>
<dl class="attribute">
<dt id="torequests.parsers.SimpleParser.alias">
<code class="descname">alias</code><em class="property"> = {'css': 'html', 'cssselect': 'html', 'cssselector': 'html', 'jp': 'jsonpath', 'json': 'jsonpath', 'json_path': 'jsonpath', 'object': 'objectpath', 'object_path': 'objectpath', 'op': 'objectpath', 'py': 'python', 'reg': 're', 'regex': 're'}</em><a class="headerlink" href="#torequests.parsers.SimpleParser.alias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="torequests.parsers.SimpleParser.const_parser">
<code class="descname">const_parser</code><span class="sig-paren">(</span><em>scode</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/parsers.html#SimpleParser.const_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.parsers.SimpleParser.const_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="torequests.parsers.SimpleParser.ensure_json">
<code class="descname">ensure_json</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/parsers.html#SimpleParser.ensure_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.parsers.SimpleParser.ensure_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="torequests.parsers.SimpleParser.ensure_list">
<em class="property">static </em><code class="descname">ensure_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/parsers.html#SimpleParser.ensure_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.parsers.SimpleParser.ensure_list" title="Permalink to this definition">¶</a></dt>
<dd><p>null obj -&gt; return [];</p>
<p>str, unicode, bytes, bytearray -&gt; [obj];</p>
<p>else -&gt; list(obj)</p>
</dd></dl>

<dl class="method">
<dt id="torequests.parsers.SimpleParser.ensure_str">
<code class="descname">ensure_str</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/parsers.html#SimpleParser.ensure_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.parsers.SimpleParser.ensure_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="torequests.parsers.SimpleParser.html_parser">
<code class="descname">html_parser</code><span class="sig-paren">(</span><em>scode</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/parsers.html#SimpleParser.html_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.parsers.SimpleParser.html_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>args[0] = cssselector</p>
<p>args[1] = text / html / xml / &#64;attribute_name</p>
</dd></dl>

<dl class="method">
<dt id="torequests.parsers.SimpleParser.jsonpath_parser">
<code class="descname">jsonpath_parser</code><span class="sig-paren">(</span><em>scode</em>, <em>json_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/parsers.html#SimpleParser.jsonpath_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.parsers.SimpleParser.jsonpath_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="torequests.parsers.SimpleParser.objectpath_parser">
<code class="descname">objectpath_parser</code><span class="sig-paren">(</span><em>scode</em>, <em>object_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/parsers.html#SimpleParser.objectpath_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.parsers.SimpleParser.objectpath_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="torequests.parsers.SimpleParser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>scode</em>, <em>args_chain=None</em>, <em>join_with=None</em>, <em>default=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/parsers.html#SimpleParser.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.parsers.SimpleParser.parse" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>single arg:</dt>
<dd>[one_to_many, parser_name, <a href="#id21"><span class="problematic" id="id22">*</span></a>args]</dd>
<dt>args_chain: </dt>
<dd>[[‘1-n’, ‘re’, ‘search’, ‘(&lt;.*?&gt;)’, ‘1’]]
[[‘1-n’, ‘html’, ‘p’, ‘html’], [‘n-n’, ‘html’, ‘p’, ‘text’]]</dd>
</dl>
</dd></dl>

<dl class="classmethod">
<dt id="torequests.parsers.SimpleParser.prepare_response">
<em class="property">classmethod </em><code class="descname">prepare_response</code><span class="sig-paren">(</span><em>r</em>, <em>name</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/parsers.html#SimpleParser.prepare_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.parsers.SimpleParser.prepare_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="torequests.parsers.SimpleParser.python_parser">
<code class="descname">python_parser</code><span class="sig-paren">(</span><em>obj</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/parsers.html#SimpleParser.python_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.parsers.SimpleParser.python_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>operate a python obj</p>
</dd></dl>

<dl class="method">
<dt id="torequests.parsers.SimpleParser.re_parser">
<code class="descname">re_parser</code><span class="sig-paren">(</span><em>scode</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/parsers.html#SimpleParser.re_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.parsers.SimpleParser.re_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>args: [arg1, arg2]</p>
<p>arg[0] = a valid regex pattern</p>
<dl class="docutils">
<dt>arg[1] <span class="classifier-delimiter">:</span> <span class="classifier">if startswith(‘&#64;’) call sub; if startswith(‘$’) call finditer,</span></dt>
<dd>$0, $1 means group index.</dd>
</dl>
<p>return an ensure_list</p>
</dd></dl>

<dl class="method">
<dt id="torequests.parsers.SimpleParser.xml_parser">
<code class="descname">xml_parser</code><span class="sig-paren">(</span><em>scode</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/parsers.html#SimpleParser.xml_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.parsers.SimpleParser.xml_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>args[0]: xpath</p>
<p>args[1]: text / html / xml</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="torequests.parsers.get_one">
<code class="descclassname">torequests.parsers.</code><code class="descname">get_one</code><span class="sig-paren">(</span><em>seq</em>, <em>default=None</em>, <em>skip_string_iter=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torequests/parsers.html#get_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#torequests.parsers.get_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Return one item from seq or None(by default).</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">torequests package</a><ul>
<li><a class="reference internal" href="#module-torequests.main">torequests.main</a></li>
<li><a class="reference internal" href="#module-torequests.dummy">torequests.dummy</a></li>
<li><a class="reference internal" href="#module-torequests.utils">torequests.utils</a></li>
<li><a class="reference internal" href="#module-torequests.configs">torequests.configs</a></li>
<li><a class="reference internal" href="#module-torequests.crawlers">torequests.crawlers</a></li>
<li><a class="reference internal" href="#module-torequests.exceptions">torequests.exceptions</a></li>
<li><a class="reference internal" href="#module-torequests.logs">torequests.logs</a></li>
<li><a class="reference internal" href="#module-torequests.parsers">torequests.parsers</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/torequests.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">torequests 4.6.5 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Clericpy.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.1.
    </div>
  </body>
</html>